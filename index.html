<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cousinbande</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
    font-family:'Inter',sans-serif;
    background:#4CBB17; /* Kelly Green */
    color:white;
}

/* HEADER */
header{
    padding:50px 20px 30px;
    text-align:center;
    position:relative;
}

header h1{
    font-size:3.2rem;
    font-weight:700;
    color:white;
}

/* FLAGGEN */
.flags{
    position:absolute;
    top:20px;
    right:20px;
    display:flex;
    gap:10px;
}
.flags img{
    width:34px;
    height:22px;
    cursor:pointer;
    border-radius:4px;
    transition:0.2s;
}
.flags img:hover{
    transform:scale(1.1);
}

/* HEADER INFO */
.badge{
    margin-top:15px;
    font-weight:600;
}
.countdown{margin-top:10px;}
.deadline{margin-top:5px;color:#ffe066;}
.deadline.warning{color:#ff4444;font-weight:700;}

/* CONTAINER */
.container{
    max-width:1000px;
    margin:30px auto;
    padding:0 20px;
}

/* CARD */
.card{
    background:rgba(255,255,255,0.15);
    padding:30px;
    border-radius:18px;
    margin-bottom:30px;
}

/* LOGIN */
input{
    width:100%;
    padding:10px;
    border-radius:8px;
    border:none;
    margin:8px 0;
}
button{
    padding:10px 20px;
    border:none;
    border-radius:8px;
    background:white;
    color:#4CBB17;
    font-weight:600;
    cursor:pointer;
}

/* TABS */
.tabs{
    display:flex;
    overflow-x:auto;
    gap:10px;
    margin-bottom:20px;
}
.tab{
    padding:10px 18px;
    background:rgba(255,255,255,0.25);
    border-radius:20px;
    cursor:pointer;
    white-space:nowrap;
}
.tab.active{
    background:white;
    color:#4CBB17;
    font-weight:600;
}

.tab-content{
    display:none;
}
.tab-content.active{
    display:block;
}

</style>
</head>
<body>

<header>
<div class="flags">
<img src="https://flagcdn.com/w40/de.png" onclick="setLang('de')">
<img src="https://flagcdn.com/w40/us.png" onclick="setLang('en')">
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Flag_of_the_Soviet_Union.svg/40px-Flag_of_the_Soviet_Union.svg.png"
onclick="setLang('ru')">
</div>

<h1>Cousinbande</h1>
<div class="badge" id="eventText"></div>
<div class="countdown" id="countdown"></div>
<div class="deadline" id="deadline"></div>
</header>

<div class="container">

<div class="card" id="loginCard">
<h2 id="loginTitle"></h2>
<input type="text" id="username">
<input type="password" id="password">
<button onclick="login()" id="loginBtn"></button>
<div id="error" style="margin-top:8px;color:#ffdddd;"></div>
</div>

<div id="mainContent" style="display:none;">

<div class="card">
<h2 id="meetingTitle"></h2>
</div>

<div class="card">
<h3 id="futureMeetingsTitle"></h3>

<div class="tabs" id="tabs"></div>

<div id="tabContents"></div>

</div>

</div>
</div>

<script>

// ===== SPRACHEN =====
let lang="de";

const t={
de:{
login:"Login",
username:"Benutzername",
password:"Passwort",
btn:"Einloggen",
wrong:"Falsche Zugangsdaten!",
meeting:"Letztes Treffen",
future:"Weitere Treffen",
next:"Nächstes Treffen:",
remaining:"Noch",
deadlineBefore:"Bitte spätestens 7 Tage vorher zusagen.",
deadlineAfter:"⚠️ Zusagefrist erreicht!"
},
en:{
login:"Login",
username:"Username",
password:"Password",
btn:"Login",
wrong:"Wrong credentials!",
meeting:"Last Meeting",
future:"Upcoming Meetings",
next:"Next Meeting:",
remaining:"Remaining",
deadlineBefore:"Please confirm at least 7 days before.",
deadlineAfter:"⚠️ Confirmation deadline reached!"
},
ru:{
login:"Вход",
username:"Имя пользователя",
password:"Пароль",
btn:"Войти",
wrong:"Неверные данные!",
meeting:"Последняя встреча",
future:"Будущие встречи",
next:"Следующая встреча:",
remaining:"Осталось",
deadlineBefore:"Подтвердите участие минимум за 7 дней.",
deadlineAfter:"⚠️ Срок подтверждения истёк!"
}
};

function setLang(l){
lang=l;
applyLang();
updateHeader();
}

function applyLang(){
document.getElementById("loginTitle").innerText=t[lang].login;
document.getElementById("username").placeholder=t[lang].username;
document.getElementById("password").placeholder=t[lang].password;
document.getElementById("loginBtn").innerText=t[lang].btn;
document.getElementById("meetingTitle").innerText=t[lang].meeting;
document.getElementById("futureMeetingsTitle").innerText=t[lang].future;
}

applyLang();

// ===== LOGIN test/test =====
function login(){
if(username.value==="test" && password.value==="test"){
loginCard.style.display="none";
mainContent.style.display="block";
}else{
error.innerText=t[lang].wrong;
}
}

// ===== TERMIN-SERIE =====
function nthSaturday(year,month,n){
let d=new Date(year,month,1),c=0;
while(d.getMonth()===month){
if(d.getDay()===6){c++; if(c===n)return new Date(d.setHours(18,0,0));}
d.setDate(d.getDate()+1);
}
}

function nextEvents(count=6){
let events=[];
let year=new Date().getFullYear();
while(events.length<count){
events.push(nthSaturday(year,4,2));
events.push(nthSaturday(year,11,1));
year++;
}
return events.filter(e=>e>new Date());
}

const events=nextEvents(6);
const nextEvent=events[0];
const deadline=new Date(nextEvent.getTime()-7*24*60*60*1000);

function updateHeader(){
document.getElementById("eventText").innerHTML=
t[lang].next+" "+
nextEvent.toLocaleDateString(
lang==="de"?"de-DE":lang==="ru"?"ru-RU":"en-US",
{weekday:"long",day:"numeric",month:"long",year:"numeric"});
}

updateHeader();

// ===== COUNTDOWN =====
function updateCountdown(){
let now=new Date();
let diff=nextEvent-now;
if(diff<=0)return;
let days=Math.floor(diff/(1000*60*60*24));
document.getElementById("countdown").innerHTML=
"⏳ "+t[lang].remaining+" "+days+" d";

if(now>=deadline){
document.getElementById("deadline").innerHTML=t[lang].deadlineAfter;
document.getElementById("deadline").classList.add("warning");
}else{
document.getElementById("deadline").innerHTML=t[lang].deadlineBefore;
}
}
setInterval(updateCountdown,1000);
updateCountdown();

// ===== TABS =====
const tabsDiv=document.getElementById("tabs");
const contentsDiv=document.getElementById("tabContents");

events.slice(0,6).forEach((e,i)=>{
let tab=document.createElement("div");
tab.className="tab"+(i===0?" active":"");
tab.innerText=e.toLocaleDateString("de-DE");
tab.onclick=()=>activateTab(i);
tabsDiv.appendChild(tab);

let content=document.createElement("div");
content.className="tab-content"+(i===0?" active":"");
content.innerHTML="<p>"+e.toLocaleDateString()+"</p>";
contentsDiv.appendChild(content);
});

function activateTab(i){
document.querySelectorAll(".tab").forEach((t,idx)=>{
t.classList.toggle("active",idx===i);
});
document.querySelectorAll(".tab-content").forEach((c,idx)=>{
c.classList.toggle("active",idx===i);
});
}

</script>
</body>
</html>
